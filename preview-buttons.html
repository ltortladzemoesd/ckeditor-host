<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Country Selection & Preview Buttons</title>
  <style>
    body {
      font-family: Arial;
      padding: 40px;
      background: #f9f9f9;
    }
    select, button {
      padding: 10px 20px;
      font-size: 16px;
      margin-right: 20px;
      border-radius: 8px;
      border: 1px solid #ccc;
    }
    button {
      background-color: #2c3e50;
      color: white;
      border: none;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h2>Select Country and Preview</h2>
  <select id="countryDropdown">
    <option value="">-- Select a country --</option>
    <option value="Georgia">Georgia</option>
    <option value="Germany">Germany</option>
    <option value="France">France</option>
    <!-- Add more countries as needed -->
  </select>

  <button id="previewInfoBtn">Preview Info</button>
  <button id="previewTpBtn">Preview TPs</button>

  <script>
    const dropdown = document.getElementById("countryDropdown");
    const previewInfoBtn = document.getElementById("previewInfoBtn");
    const previewTpBtn = document.getElementById("previewTpBtn");

    dropdown.addEventListener("change", () => {
      const country = encodeURIComponent(dropdown.value);
      if (!country) return;

      const frames = [
        ["introductionIframe", "Introduction"],
        ["introductionTpIframe", "Introduction"],
        
        ["diplomaticIframe", "Diplomatic_Relations"],
        ["diplomaticTpIframe", "Diplomatic_Relations"],

        ["tradeIframe", "Bilateral_Trade_and_Economic_Relations"],
        ["tradeTpIframe", "Bilateral_Trade_and_Economic_Relations"],

        ["policyIframe", "Trade_Policy"],
        ["policyTpIframe", "Trade_Policy"],

        ["tourismIframe", "Tourism"],
        ["tourismTpIframe", "Tourism"],

        ["investmentIframe", "Investment"],
        ["investmentTpIframe", "Investment"],

        ["transportIframe", "Transport"],
        ["transportTpIframe", "Transport"],

        ["energyIframe", "Energy"],
        ["energyTpIframe", "Energy"],

        ["commsIframe", "Communications_Innovation_and_Post"],
        ["commsTpIframe", "Communications_Innovation_and_Post"],

        ["itIframe", "Information_Technology"],
        ["itTpIframe", "Information_Technology"],

        ["remarksIframe", "Remarks"],
        ["remarksTpIframe", "Remarks"]
      ];

      frames.forEach(([id, section], index) => {
        const isTP = id.includes("TpIframe");
        const base = isTP ? "talking.html" : "editor.html";
        const url = `https://ltortladzemoesd.github.io/ckeditor-host/${base}?country=${country}&section=${section}`;
        const frame = parent.document.getElementById(id);
        if (frame) frame.src = url;
      });
    });

    previewInfoBtn.addEventListener("click", () => {
      const country = encodeURIComponent(dropdown.value);
      if (!country) return alert("Please select a country");
      window.open(`https://ltortladzemoesd.github.io/ckeditor-host/preview-full-info.html?country=${country}`, "_blank");
    });

    previewTpBtn.addEventListener("click", () => {
      const country = encodeURIComponent(dropdown.value);
      if (!country) return alert("Please select a country");
      window.open(`https://ltortladzemoesd.github.io/ckeditor-host/preview-full-tp.html?country=${country}`, "_blank");
    });
  </script>
</body>
</html>
